<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>AUSTISM CRC | RSVP</title>
    <link rel="shortcut icon" href="https://www.autismcrc.com.au/sites/default/files/favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css'>
    <link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css'>
    <link rel='stylesheet prefetch' href='http://cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.0/css/bootstrapValidator.min.css'>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="row centered margin0 bgcolor">
            <div class="col-sm-12 ">
                <img class="autism-logo" src="https://www.autismcrc.com.au/sites/default/files/logo.jpg">
            </div>
        </div>
        <form id="contact_form" class="well form-horizontal" method="POST" action="%%= RequestParameter('PAGEURL') =%%">
            <fieldset>
                <div class="Text-Box">
                    <p>Please fill out the details here:</p>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">First Name</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="FirstName" placeholder="First Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group">
                    <label class="col-sm-3 control-label">Surname</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="Surname" placeholder="Last Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group">
                    <label class="col-sm-3 control-label">E-Mail</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                            <input name="email" placeholder="E-mail Address" class="form-control" type="email">
                        </div>
                    </div>
                </div>
                <!-- Select Basic -->
                <div class="form-group">
                    <label class="col-sm-3 control-label">Campaign Member Status</label>
                    <div class="col-sm-9 selectContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
                            <select name="Attendance_option" class="form-control selectpicker" id="attendance_opt">
                                <option value="">Please select one option</option>
                                <option value="Attending">Attending</option>
                                <option value="Declined">Declined</option>
                                <option value="Substitute_Attending">Substitute Attending devices</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group hidenshow1">
                    <label class="col-sm-3 control-label">Substitute First Name</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="SubFirstName" placeholder="First Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group hidenshow1">
                    <label class="col-sm-3 control-label"> Substitute Surname</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="SubSurname" placeholder="Last Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group hidenshow1">
                    <label class="col-sm-3 control-label">Substitute E-Mail</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                            <input name="Subemail" placeholder="E-mail Address" class="form-control" type="email">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label p-t-0">Dietry Requirements ?</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                            <textarea class="form-control" name="AdditionalFeed" placeholder="Additional Feedback"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Select Basic -->
                <div class="form-group required">
                    <div class="col-sm-9">
                        <div class="checkbox">
                            <label>
                                <input class="checkboxVal" type="checkbox" name="Travel_option" value="true" /><strong>I need travel arranged for me</strong></label>
                        </div>
                    </div>
                </div>
                <span class="help-block" id="checkboxVal1"></span>
                <!-- Select Basic -->
                <div class="form-group required">
                    <div class="col-sm-9">
                        <div class="checkbox">
                            <label>
                                <input class="checkboxVal1" type="checkbox" name="Travel_option" value="true" /><strong>I am bringing others with me</strong></label>
                        </div>
                    </div>
                </div>
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label">Additional Person 1 First Name</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddFirstName1" placeholder="First Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label"> Additional Person 1 Surname</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddSurname1" placeholder="Last Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label">Additional Person 2 First Name</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddFirstName2" placeholder="First Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label"> Additional Person 2 Surname</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddSurname2" placeholder="Last Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label">Additional Person 3 First Name</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddFirstName3" placeholder="First Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label"> Additional Person 4 Surname</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddSurname4" placeholder="Last Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label">Additional Person 4 First Name</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddFirstName4" placeholder="First Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group hidenshow">
                    <label class="col-sm-3 control-label"> Additional Person 1Surname</label>
                    <div class="col-sm-9 inputGroupContainer">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input name="AddSurname1" placeholder="Last Name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <div class="form-group m-x-40">
                    <label class="col-sm-3 control-label"></label>
                    <div class="col-sm-9">
                        <button type="submit" class="btn btn-warning" name="FormSubmit">Submit <span class="glyphicon glyphicon-send"></span></button>
                    </div>
                </div>
            </fieldset>
            <!-- hidden fields -->
            <input type="hidden" name="__successPage" id="__successPage" value="%%=CloudPagesURL(333)=%%">
            <input type="hidden" name="__errorPage" id="__errorPage" value="%%=CloudPagesURL(332)=%%">
            <input type="hidden" name="__contextName" id="__contextName" value="profileFormPost">
            <input type="hidden" name="__executionContext" id="__executionContext" value="POST">
            <!-- end hidden fields -->
        </form>
    </div>
        <footer class="text-center"><p>&copy; Autism CRC 2017</p></footer>
    </div>
    <!-- /.container -->
    <!-- %%[[name="profileFormPost";type="POST"]

      
        SET @FirstName = RequestParameter("FirstName")
        SET @Surname = RequestParameter("Surname")
        SET @email = RequestParameter("email")
        SET @Travel_option = IIF(RequestParameter("Travel_option")=='true',1,0)
        SET @Attendance_option = RequestParameter("Attendance_option")
        SET @AdditionalFeed = RequestParameter("AdditionalFeed")
 

 /* Update DE */

      SET @status =
        InsertData
        (
        "Survey", 
        "FirstName", @FirstName,
        "Surname", @Surname,
        "email", @email,
        "Travel_option", @Travel_option,
        "Attendance_option", @Attendance_option,
        "AdditionalFeed", @AdditionalFeed
        )

IF @status == 1 THEN
            Redirect(CloudPagesURL(333))
        ELSE
            Redirect(CloudPagesURL(332))
        ENDIF
        
      ]%% -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js'></script>
    <script type="text/javascript">
   $('.checkboxVal').click(function() {
    if( $(this).is(':checked')) {
        $(".hidenshow").show();
    } else {
        $(".hidenshow").hide();
    }
}); 
$(document).ready(function(){
    $('#attendance_opt').on('change', function() {
      if ( this.value == 'Substitute_Attending')
      {
        $(".hidenshow1").show();
      }
      else
      {
        $(".hidenshow1").hide();
      }
    });
});
    </script>
    <script type="text/javascript">
    $(document).ready(function() {
        $('#contact_form').bootstrapValidator({
            // To use feedback icons, ensure that you use Bootstrap v3.1.0 or later
            //feedbackIcons: {
            // valid: 'glyphicon glyphicon-ok',
            // invalid: 'glyphicon glyphicon-remove',
            // validating: 'glyphicon glyphicon-refresh'
            // },
            fields: {
                FirstName: {
                    validators: {
                        notEmpty: {
                            message: 'Please supply your first name'
                        }
                    }
                },
                Surname: {
                    validators: {
                        notEmpty: {
                            message: 'Please supply your surname'
                        }
                    }
                },
                email: {
                    validators: {
                        notEmpty: {
                            message: 'Please enter your email address'
                        },
                        emailAddress: {
                            message: 'The value is not a valid email address'
                        }
                    }
                },
                SubFirstName: {
                    validators: {
                        notEmpty: {
                            message: 'Please supply your first name'
                        }
                    }
                },
                SubSurname: {
                    validators: {
                        notEmpty: {
                            message: 'Please supply your surname'
                        }
                    }
                },
                Subemail: {
                    validators: {
                        notEmpty: {
                            message: 'Please enter your email address'
                        },
                        emailAddress: {
                            message: 'The value is not a valid email address'
                        }
                    }
                },
                Attendance_option: {
                    validators: {
                        notEmpty: {
                            message: 'Please select a value'
                        }
                    }
                }
                /*,
                AdditionalFeed: {
                    validators: {
                        notEmpty: {
                            message: 'Please supply your feedback'
                        }
                    }
                }
                ,
                checkboxVal: {
                    selector: ".checkboxVal",
                    validators: {
                        notEmpty: {
                            message: 'Please select a value'
                        }
                    }
                },
                checkboxVal1: {
                    selector: ".checkboxVal1",
                    validators: {
                        notEmpty: {
                            message: 'Please select this option'
                        }
                    }
                }
                */
            }
        })


        .on('success.form.bv', function(e) {
            $('#success_message').slideDown({
                    opacity: "show"
                }, "slow") // Do something ...
            $('#contact_form').data('bootstrapValidator').resetForm();

            // Prevent form submission
            e.preventDefault();

            // Get the form instance
            var $form = $(e.target);

            // Get the BootstrapValidator instance
            var bv = $form.data('bootstrapValidator');

            // Use Ajax to submit form data
            $.post($form.attr('action'), $form.serialize(), function(result) {
                console.log(result);
            }, 'json');

        });

    });
    </script>
</body>

</html>
